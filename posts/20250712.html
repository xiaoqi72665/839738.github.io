<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="keywords" content="Hexo Theme Redefine"><meta name="author" content="Jackson"><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="canonical" href="https://839738.xyz/posts/20250712.html"><meta name="robots" content="index,follow"><meta name="googlebot" content="index,follow"><meta name="revisit-after" content="1 days"><meta name="description" content="Hexo Theme Redefine, Redefine Your Hexo Journey."><meta property="og:type" content="article"><meta property="og:title" content="Flarum 在国内服务器（宝塔环境）上的完整搭建指南"><meta property="og:url" content="https://839738.xyz/posts/20250712.html"><meta property="og:site_name" content="Hexo"><meta property="og:description" content="Hexo Theme Redefine, Redefine Your Hexo Journey."><meta property="og:locale" content="en_US"><meta property="og:image" content="https://839738.xyz/images/redefine-og.webp"><meta property="article:published_time" content="2025-07-11T20:05:34.000Z"><meta property="article:modified_time" content="2025-07-12T10:03:00.759Z"><meta property="article:author" content="John Doe"><meta property="article:tag" content="Linux"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://839738.xyz/images/redefine-og.webp"><link rel="icon" type="image/png" href="https://bu.dusays.com/2025/02/17/67b27c5a2656c.png" sizes="192x192"><link rel="apple-touch-icon" sizes="180x180" href="https://bu.dusays.com/2025/02/17/67b27c5a2656c.png"><meta name="theme-color" content="#A31F34"><link rel="shortcut icon" href="https://bu.dusays.com/2025/02/17/67b27c5a2656c.png"><title>Flarum 在国内服务器（宝塔环境）上的完整搭建指南 | Jackson&#39;s Blog</title><link rel="stylesheet" href="/fonts/Chillax/chillax.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/build/tailwind.css"><link rel="stylesheet" href="/fonts/GeistMono/geist-mono.css"><link rel="stylesheet" href="/fonts/Geist/geist.css"><link href="https://cdn.jsdelivr.net/gh/IKKI2000/harmonyos-fonts/css/harmonyos_sans_sc.css" rel="stylesheet"><link href="https://cdn.jsdelivr.net/gh/IKKI2000/harmonyos-fonts/css/harmonyos_sans_sc.css" rel="stylesheet"><link href="https://cdn.jsdelivr.net/gh/IKKI2000/harmonyos-fonts/css/harmonyos_sans.css" rel="stylesheet"><link href="https://cdn.jsdelivr.net/gh/IKKI2000/harmonyos-fonts/css/harmonyos_sans_sc.css" rel="stylesheet"><script id="hexo-configurations">window.config={hostname:"839738.xyz",root:"/",language:"en"},window.theme={articles:{style:{font_size:"16px",line_height:1.5,image_border_radius:"14px",image_alignment:"center",image_caption:!1,link_icon:!0,delete_mask:!1,title_alignment:"left",headings_top_spacing:{h1:"3.2rem",h2:"2.4rem",h3:"1.9rem",h4:"1.6rem",h5:"1.4rem",h6:"1.3rem"}},word_count:{enable:!0,count:!0,min2read:!0},author_label:{enable:!0,auto:!1,list:[]},code_block:{copy:!0,style:"mac",highlight_theme:{light:"github",dark:"vs2015"},font:{enable:!1,family:null,url:null}},toc:{enable:!0,max_depth:3,number:!1,expand:!0,init_open:!0},copyright:{enable:!0,default:"cc_by_nc_sa"},lazyload:!0,pangu_js:!1,recommendation:{enable:!1,title:"推荐阅读",limit:3,mobile_limit:2,placeholder:"/images/wallhaven-wqery6-light.webp",skip_dirs:[]}},colors:{primary:"#A31F34",secondary:null,default_mode:"light"},global:{fonts:{chinese:{enable:!0,family:"HarmonyOS Sans SC",url:"https://cdn.jsdelivr.net/gh/IKKI2000/harmonyos-fonts/css/harmonyos_sans_sc.css"},english:{enable:!0,family:"HarmonyOS Sans",url:"https://cdn.jsdelivr.net/gh/IKKI2000/harmonyos-fonts/css/harmonyos_sans.css"},title:{enable:!0,family:"HarmonyOS Sans SC",url:"https://cdn.jsdelivr.net/gh/IKKI2000/harmonyos-fonts/css/harmonyos_sans_sc.css"}},content_max_width:"1000px",sidebar_width:"210px",hover:{shadow:!0,scale:!1},scroll_progress:{bar:!0,percentage:!0},website_counter:{url:"https://cn.vercount.one/js",enable:!0,site_pv:!0,site_uv:!0,post_pv:!0},single_page:!0,preloader:{enable:!1,custom_message:null},open_graph:{enable:!0,image:"/images/redefine-og.webp",description:"Hexo Theme Redefine, Redefine Your Hexo Journey."},google_analytics:{enable:!1,id:null}},home_banner:{enable:!0,style:"fixed",image:{light:"https://bu.dusays.com/2025/02/17/67b28d98883dc.webp",dark:"https://bu.dusays.com/2025/02/17/67b28d9392f1c.webp"},title:"我的目标不是“瞬间变好”，而是“每天比昨天的自己多走5%”。",subtitle:{text:[],hitokoto:{enable:!1,show_author:!1,api:"https://v1.hitokoto.cn"},typing_speed:100,backing_speed:80,starting_delay:500,backing_delay:1500,loop:!0,smart_backspace:!0},text_color:{light:"#fff",dark:"#d1d1b6"},text_style:{title_size:"2.8rem",subtitle_size:"1.5rem",line_height:1.2},custom_font:{enable:!0,family:"HarmonyOS Sans SC",url:"https://cdn.jsdelivr.net/gh/IKKI2000/harmonyos-fonts/css/harmonyos_sans_sc.css"},social_links:{enable:!0,style:"default",links:{github:null,instagram:null,zhihu:null,twitter:null,email:null,bilibili:"https://space.bilibili.com/99592906","fa-solid fa-book":"https://www.xiaohongshu.com/user/profile/62c356c600000000150179c3?xhsshare=QQ&appuid=62c356c600000000150179c3&apptime=1661351863",at:"https://mail.qq.com/cgi-bin/qm_share?t=qm_mailme&email=2536319853@qq.com"},qrs:{weixin:"https://bu.dusays.com/2025/02/11/67ab629fa761c.jpg"}}},plugins:{feed:{enable:!1},aplayer:{enable:!1,type:"fixed",audios:[{name:null,artist:null,url:null,cover:null,lrc:null}]},mermaid:{enable:!1,version:"11.4.1"}},version:"2.8.2",navbar:{auto_hide:!1,color:{left:"#f78736",right:"#367df7",transparency:35},width:{home:"1200px",pages:"1000px"},links:{Home:{path:"/",icon:"fa-regular fa-house"},Categories:{icon:"fa-solid fa-folder",path:"/categories/"},Tags:{icon:"fa-solid fa-tags",path:"/tags/"},"Compliment Wall":{icon:"fa-solid fa-image",path:"/masonry/"},"Time Line":{icon:"fa-solid fa-clock",path:"/essays/"}},search:{enable:!0,preload:!0}},page_templates:{friends_column:2,tags_style:"cloud"},home:{sidebar:{enable:!0,position:"left",first_item:"menu",announcement:null,show_on_mobile:!0,links:{Archives:{path:"/archives",icon:"fa-regular fa-archive"},Tags:{path:"/tags",icon:"fa-regular fa-tags"},Categories:{path:"/categories",icon:"fa-regular fa-folder"}}},article_date_format:"auto",excerpt_length:200,categories:{enable:!0,limit:3},tags:{enable:!0,limit:3}},footerStart:"2025/2/17 08:45:14"},window.lang_ago={second:"%s seconds ago",minute:"%s minutes ago",hour:"%s hours ago",day:"%s days ago",week:"%s weeks ago",month:"%s months ago",year:"%s years ago"},window.data={masonry:!0}</script><link rel="stylesheet" href="/fontawesome/fontawesome.min.css"><link rel="stylesheet" href="/fontawesome/brands.min.css"><link rel="stylesheet" href="/fontawesome/solid.min.css"><link rel="stylesheet" href="/fontawesome/regular.min.css"><meta name="generator" content="Hexo 7.3.0"></head><body><div class="progress-bar-container"><span class="scroll-progress-bar"></span> <span class="pjax-progress-bar"></span></div><main class="page-container" id="swup"><div class="main-content-container flex flex-col justify-between min-h-dvh"><div class="main-content-header"><header class="navbar-container px-6 md:px-12"><div class="navbar-content transition-navbar"><div class="left"><a class="logo-image h-8 w-8 sm:w-10 sm:h-10 mr-3" href="/"><img src="https://bu.dusays.com/2025/02/17/67b27c5a2656c.png" class="w-full h-full rounded-sm"> </a><a class="logo-title" href="/">Jackson&#39;s Blog</a></div><div class="right"><div class="desktop"><ul class="navbar-list"><li class="navbar-item"><a href="/"><i class="fa-regular fa-house fa-fw"></i> HOME</a></li><li class="navbar-item"><a href="/categories/"><i class="fa-solid fa-folder fa-fw"></i> CATEGORIES</a></li><li class="navbar-item"><a href="/tags/"><i class="fa-solid fa-tags fa-fw"></i> TAGS</a></li><li class="navbar-item"><a href="/masonry/"><i class="fa-solid fa-image fa-fw"></i> COMPLIMENT WALL</a></li><li class="navbar-item"><a href="/essays/"><i class="fa-solid fa-clock fa-fw"></i> TIME LINE</a></li><li class="navbar-item search search-popup-trigger"><i class="fa-solid fa-magnifying-glass"></i></li></ul></div><div class="mobile"><div class="icon-item search search-popup-trigger"><i class="fa-solid fa-magnifying-glass"></i></div><div class="icon-item navbar-bar"><div class="navbar-bar-middle"></div></div></div></div></div><div class="navbar-drawer h-dvh w-full absolute top-0 left-0 bg-background-color flex flex-col justify-between"><ul class="drawer-navbar-list flex flex-col px-4 justify-center items-start"><li class="drawer-navbar-item text-base my-1.5 flex flex-col w-full"><a class="py-1.5 px-2 flex flex-row items-center justify-between gap-1 hover:!text-primary active:!text-primary text-2xl font-semibold group border-b border-border-color hover:border-primary w-full" href="/"><span>HOME </span><i class="fa-regular fa-house fa-sm fa-fw"></i></a></li><li class="drawer-navbar-item text-base my-1.5 flex flex-col w-full"><a class="py-1.5 px-2 flex flex-row items-center justify-between gap-1 hover:!text-primary active:!text-primary text-2xl font-semibold group border-b border-border-color hover:border-primary w-full" href="/categories/"><span>CATEGORIES </span><i class="fa-solid fa-folder fa-sm fa-fw"></i></a></li><li class="drawer-navbar-item text-base my-1.5 flex flex-col w-full"><a class="py-1.5 px-2 flex flex-row items-center justify-between gap-1 hover:!text-primary active:!text-primary text-2xl font-semibold group border-b border-border-color hover:border-primary w-full" href="/tags/"><span>TAGS </span><i class="fa-solid fa-tags fa-sm fa-fw"></i></a></li><li class="drawer-navbar-item text-base my-1.5 flex flex-col w-full"><a class="py-1.5 px-2 flex flex-row items-center justify-between gap-1 hover:!text-primary active:!text-primary text-2xl font-semibold group border-b border-border-color hover:border-primary w-full" href="/masonry/"><span>COMPLIMENT WALL </span><i class="fa-solid fa-image fa-sm fa-fw"></i></a></li><li class="drawer-navbar-item text-base my-1.5 flex flex-col w-full"><a class="py-1.5 px-2 flex flex-row items-center justify-between gap-1 hover:!text-primary active:!text-primary text-2xl font-semibold group border-b border-border-color hover:border-primary w-full" href="/essays/"><span>TIME LINE </span><i class="fa-solid fa-clock fa-sm fa-fw"></i></a></li><li class="drawer-navbar-item text-base my-1.5 flex flex-col w-full"><a class="py-1.5 px-2 flex flex-row items-center justify-between gap-1 hover:!text-primary active:!text-primary text-2xl font-semibold group border-b border-border-color hover:border-primary w-full active" href="/archives"><span>Archives</span> <i class="fa-regular fa-archive fa-sm fa-fw"></i></a></li></ul><div class="statistics flex justify-around my-2.5"><a class="item tag-count-item flex flex-col justify-center items-center w-20" href="/tags"><div class="number text-2xl sm:text-xl text-second-text-color font-semibold">23</div><div class="label text-third-text-color text-sm">Tags</div></a><a class="item tag-count-item flex flex-col justify-center items-center w-20" href="/categories"><div class="number text-2xl sm:text-xl text-second-text-color font-semibold">4</div><div class="label text-third-text-color text-sm">Categories</div></a><a class="item tag-count-item flex flex-col justify-center items-center w-20" href="/archives"><div class="number text-2xl sm:text-xl text-second-text-color font-semibold">21</div><div class="label text-third-text-color text-sm">Posts</div></a></div></div><div class="window-mask"></div></header></div><div class="main-content-body transition-fade-up"><div class="main-content"><div class="post-page-container flex relative justify-between box-border w-full h-full"><div class="article-content-container"><div class="article-title relative w-full"><img src="https://kkdrive.jisuk.top/f/X2uP/wechat_2025-07-12_163921_559.png" alt="Flarum 在国内服务器（宝塔环境）上的完整搭建指南" class="w-full h-60 sm:h-72 md:h-80 object-cover sm:rounded-t-large dark:brightness-75"><div class="w-full flex items-center absolute bottom-0 justify-start"><h1 class="article-title-cover text-center mx-6 my-6 text-second-text-color bg-background-color-transparent px-4 py-3 text-3xl sm:text-4xl md:text-5xl font-semibold backdrop-blur-lg rounded-xl border border-border-color">Flarum 在国内服务器（宝塔环境）上的完整搭建指南</h1></div></div><div class="article-header flex flex-row gap-2 items-center px-2 sm:px-6 md:px-8"><div class="avatar w-[46px] h-[46px] flex-shrink-0 rounded-medium border border-border-color p-[1px]"><img src="https://bu.dusays.com/2025/02/13/67ae0d637ce1a.jpg"></div><div class="info flex flex-col justify-between"><div class="author flex items-center"><span class="name text-default-text-color text-lg font-semibold">Jackson</span> <span class="author-label ml-1.5 text-xs px-2 py-0.5 rounded-small text-third-text-color border border-shadow-color-1">Lv3</span></div><div class="meta-info"><div class="article-meta-info"><span class="article-date article-meta-item"><i class="fa-regular fa-pen-fancy"></i>&nbsp; <span class="desktop">2025-07-12 04:05:34</span> <span class="mobile">2025-07-12 04:05:34</span> <span class="hover-info">Created</span> </span><span class="article-date article-meta-item"><i class="fa-regular fa-wrench"></i>&nbsp; <span class="desktop">2025-07-12 18:03</span> <span class="mobile">2025-07-12 18:03</span> <span class="hover-info">Updated</span> </span><span class="article-categories article-meta-item"><i class="fa-regular fa-folders"></i>&nbsp;<ul><li><a href="/categories/Linux%E7%B3%BB%E7%BB%9F/">Linux系统</a>&nbsp;</li></ul></span><span class="article-tags article-meta-item"><i class="fa-regular fa-tags"></i>&nbsp;<ul><li><a href="/tags/Linux/">Linux</a>&nbsp;</li></ul></span><span class="article-pv article-meta-item"><i class="fa-regular fa-eye"></i>&nbsp;<span id="busuanzi_value_page_pv"></span></span></div></div></div></div><div class="article-content markdown-body px-2 sm:px-6 md:px-8 pb-8"><p>Flarum 是一款现代、简洁、模块化的 PHP 开源论坛软件，适合打造小型或中型兴趣社区、技术支持平台等。本文基于真实部署经验，详细讲解在国内服务器（宝塔环境）上搭建 Flarum 的完整过程，并提供常见问题的解决方案。</p><h2 id="🧱-环境说明"><a href="#🧱-环境说明" class="headerlink" title="🧱 环境说明"></a>🧱 环境说明</h2><ul><li><strong>操作系统</strong>：CentOS 7 &#x2F; 8 或 Ubuntu 20.04 &#x2F; 22.04</li><li><strong>控制面板</strong>：宝塔面板（推荐最新版）</li><li><strong>PHP 版本</strong>：推荐 PHP 8.1 或 8.2（Flarum 支持 7.4 以上，8.1+ 更稳定）</li><li><strong>数据库</strong>：MySQL 5.7 &#x2F; 8.0 或 MariaDB 10.2+</li><li><strong>Web 服务器</strong>：Nginx（Apache 也可，但 Nginx 更常见）</li><li><strong>Composer</strong>：2.8.10 或以上版本（避免 Xdebug 相关问题）</li><li><strong>域名</strong>：已完成备案的主域名或子域名（推荐子域名，如 <code>bbs.example.com</code>）</li></ul><h2 id="📦-第一步：通过宝塔新建站点"><a href="#📦-第一步：通过宝塔新建站点" class="headerlink" title="📦 第一步：通过宝塔新建站点"></a>📦 第一步：通过宝塔新建站点</h2><ol><li>登录宝塔面板 → 网站 → 添加站点。</li><li>填写域名（或留空使用 IP 测试）。</li><li>选择 PHP 版本为 8.1 或 8.2，数据库选择 MySQL（自动创建数据库）。</li><li>创建完成后，记下站点目录（通常为 <code>/www/wwwroot/your-domain</code>）。</li></ol><h2 id="🛠️-第二步：预配置-PHP-环境"><a href="#🛠️-第二步：预配置-PHP-环境" class="headerlink" title="🛠️ 第二步：预配置 PHP 环境"></a>🛠️ 第二步：预配置 PHP 环境</h2><p>在安装 Composer 和 Flarum 之前，需确保 PHP 环境正确配置，包括解禁必要函数和安装所需扩展。</p><h3 id="解禁-PHP-函数"><a href="#解禁-PHP-函数" class="headerlink" title="解禁 PHP 函数"></a>解禁 PHP 函数</h3><p>Flarum 和 Composer 依赖 <code>proc_open</code> 和 <code>putenv</code> 函数，这些函数可能在默认 PHP 配置中被禁用。</p><ol><li><p><strong>检查禁用函数</strong>：</p><div class="code-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">php -i | grep disable_functions</span><br></pre></td></tr></table></figure></div><p>如果输出包含 <code>proc_open</code> 或 <code>putenv</code>，需要解禁。</p></li><li><p><strong>编辑 PHP 配置文件</strong>：<br>编辑 PHP CLI 配置文件（通常为 <code>/www/server/php/82/etc/php.ini</code>）：</p><div class="code-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nano /www/server/php/82/etc/php.ini</span><br></pre></td></tr></table></figure></div><p>找到 <code>disable_functions</code> 行，移除 <code>proc_open</code> 和 <code>putenv</code>（如果存在）。例如：</p><div class="code-container" data-rel="Ini"><figure class="iseeu highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">disable_functions</span> = exec,system</span><br></pre></td></tr></table></figure></div><p>保存后重启 PHP-FPM：</p><div class="code-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> systemctl restart php-fpm</span><br></pre></td></tr></table></figure></div></li><li><p><strong>验证函数解禁</strong>：</p><div class="code-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">php -r <span class="string">&quot;var_dump(function_exists(&#x27;proc_open&#x27;), function_exists(&#x27;putenv&#x27;));&quot;</span></span><br></pre></td></tr></table></figure></div><p>输出应为：</p><div class="code-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">bool(true)</span><br><span class="line">bool(true)</span><br></pre></td></tr></table></figure></div></li></ol><h3 id="安装-PHP-扩展"><a href="#安装-PHP-扩展" class="headerlink" title="安装 PHP 扩展"></a>安装 PHP 扩展</h3><p>Flarum 要求 <code>fileinfo</code> 等扩展，必须提前安装。</p><ol><li><p><strong>检查已安装扩展</strong>：</p><div class="code-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">php -m | grep -E <span class="string">&quot;fileinfo|gd|mbstring|pdo_mysql|openssl|json|tokenizer|curl|zip&quot;</span></span><br></pre></td></tr></table></figure></div><p>确保列出 <code>fileinfo</code> 等扩展。如果缺少，安装以下扩展：</p></li><li><p><strong>安装扩展</strong>：</p><ul><li><strong>Ubuntu&#x2F;Debian</strong>：<div class="code-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> apt-get update</span><br><span class="line"><span class="built_in">sudo</span> apt-get install php8.2-fileinfo php8.2-mbstring php8.2-gd php8.2-curl php8.2-zip php8.2-pdo-mysql php8.2-openssl php8.2-tokenizer</span><br></pre></td></tr></table></figure></div></li><li><strong>CentOS&#x2F;RHEL</strong>：<div class="code-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> yum install php82-php-fileinfo php82-php-mbstring php82-php-gd php82-php-curl php82-php-zip php82-php-pdo-mysql php82-php-openssl php82-php-tokenizer</span><br></pre></td></tr></table></figure></div></li></ul></li><li><p><strong>验证扩展</strong>：</p><div class="code-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">php -m | grep fileinfo</span><br></pre></td></tr></table></figure></div><p>确保输出包含 <code>fileinfo</code>。</p></li></ol><h2 id="🧰-第三步：安装-Composer-与-Flarum"><a href="#🧰-第三步：安装-Composer-与-Flarum" class="headerlink" title="🧰 第三步：安装 Composer 与 Flarum"></a>🧰 第三步：安装 Composer 与 Flarum</h2><h3 id="安装-Composer（如未安装）"><a href="#安装-Composer（如未安装）" class="headerlink" title="安装 Composer（如未安装）"></a>安装 Composer（如未安装）</h3><p>在服务器终端执行以下命令安装 Composer：</p><div class="code-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /www/wwwroot/your-domain</span><br><span class="line">php -r <span class="string">&quot;copy(&#x27;https://getcomposer.org/installer&#x27;, &#x27;composer-setup.php&#x27;);&quot;</span></span><br><span class="line">php composer-setup.php --install-dir=/usr/local/bin --filename=composer</span><br><span class="line">php -r <span class="string">&quot;unlink(&#x27;composer-setup.php&#x27;);&quot;</span></span><br></pre></td></tr></table></figure></div><p>验证 Composer 是否安装成功：</p><div class="code-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">composer -V</span><br></pre></td></tr></table></figure></div><p><strong>注意</strong>：建议以非 root 用户运行 Composer，以避免权限问题：</p><div class="code-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> <span class="built_in">chown</span> -R &lt;your-username&gt;:&lt;your-group&gt; /www/wwwroot/your-domain</span><br><span class="line">su &lt;your-username&gt;</span><br></pre></td></tr></table></figure></div><h3 id="安装-Flarum-核心"><a href="#安装-Flarum-核心" class="headerlink" title="安装 Flarum 核心"></a>安装 Flarum 核心</h3><p>在站点目录下安装 Flarum：</p><div class="code-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /www/wwwroot/your-domain</span><br><span class="line">composer create-project flarum/flarum .</span><br></pre></td></tr></table></figure></div><p><strong>注意事项</strong>：</p><ul><li>如果仍提示 <code>proc_open is disabled</code> 或 <code>putenv()</code> 错误，重新检查第二步的函数解禁。</li><li>如果提示缺少扩展，确认第二步的扩展安装是否成功。</li></ul><h2 id="🔧-第四步：配置-Nginx-与-PHP"><a href="#🔧-第四步：配置-Nginx-与-PHP" class="headerlink" title="🔧 第四步：配置 Nginx 与 PHP"></a>🔧 第四步：配置 Nginx 与 PHP</h2><h3 id="Nginx-配置"><a href="#Nginx-配置" class="headerlink" title="Nginx 配置"></a>Nginx 配置</h3><ol><li><p><strong>修改 Nginx 配置文件</strong>：</p><ul><li>编辑站点对应的 Nginx 配置文件（通常在 <code>/www/server/nginx/conf</code> 或通过宝塔面板的站点设置）。</li><li>确保 <code>root</code> 指向 Flarum 的 <code>public</code> 目录：<div class="code-container" data-rel="Nginx"><figure class="iseeu highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">root</span> /www/wwwroot/your-domain/public;</span><br></pre></td></tr></table></figure></div></li><li>在 <code>server</code> 块中添加自定义配置文件引用（如果需要）：<div class="code-container" data-rel="Nginx"><figure class="iseeu highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">include</span> /www/wwwroot/your-domain/.nginx.conf;</span><br></pre></td></tr></table></figure></div><strong>注意</strong>：确保 <code>/www/wwwroot/your-domain/.nginx.conf</code> 文件存在。如果不存在，可创建一个空文件或移除此行。</li></ul></li><li><p><strong>伪静态规则</strong>：<br>在宝塔面板的站点设置中，添加以下伪静态规则：</p></li></ol><div class="code-container" data-rel="Nginx"><figure class="iseeu highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">location</span> / &#123;</span><br><span class="line">    <span class="attribute">try_files</span> <span class="variable">$uri</span> <span class="variable">$uri</span>/ /index.php?<span class="variable">$query_string</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><ol start="3"><li><p><strong>上传限制</strong>：<br>In Nginx 配置文件中添加：</p><div class="code-container" data-rel="Nginx"><figure class="iseeu highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">client_max_body_size</span> <span class="number">50M</span>;</span><br></pre></td></tr></table></figure></div></li><li><p>保存后重启 Nginx：</p><div class="code-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> systemctl restart nginx</span><br></pre></td></tr></table></figure></div></li></ol><h3 id="PHP-配置调整"><a href="#PHP-配置调整" class="headerlink" title="PHP 配置调整"></a>PHP 配置调整</h3><ul><li><strong>必要扩展</strong>：已在上一步安装，确认以下扩展已启用：<ul><li><code>fileinfo</code></li><li><code>pdo_mysql</code></li><li><code>mbstring</code></li><li><code>openssl</code></li><li><code>json</code></li><li><code>tokenizer</code></li><li><code>curl</code></li><li><code>gd</code></li><li><code>zip</code></li></ul></li><li><strong>上传限制</strong>：在宝塔的 PHP 设置中，修改：<ul><li><code>upload_max_filesize = 50M</code></li><li><code>post_max_size = 50M</code></li></ul></li><li><strong>权限设置</strong>：确保 <code>public/assets</code> 和 <code>storage</code> 目录对 Web 服务器用户（通常为 <code>www</code> 或 <code>nginx</code>）可写：<div class="code-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">chown</span> -R www:www /www/wwwroot/your-domain/storage</span><br><span class="line"><span class="built_in">chmod</span> -R 775 /www/wwwroot/your-domain/storage</span><br><span class="line"><span class="built_in">chown</span> -R www:www /www/wwwroot/your-domain/public/assets</span><br><span class="line"><span class="built_in">chmod</span> -R 775 /www/wwwroot/your-domain/public/assets</span><br></pre></td></tr></table></figure></div></li></ul><h2 id="🌐-第五步：访问安装页面"><a href="#🌐-第五步：访问安装页面" class="headerlink" title="🌐 第五步：访问安装页面"></a>🌐 第五步：访问安装页面</h2><ol><li>浏览器访问：<code>http://your-ip/</code> 或 <code>https://bbs.example.com</code>（需配置 SSL）。</li><li>填写以下信息：<ul><li>数据库连接信息（宝塔自动创建的数据库名、用户、密码）。</li><li>管理员邮箱和密码。</li><li>网站标题等。</li></ul></li><li>点击“安装”，等待 Flarum 配置数据库和初始数据。</li></ol><p><strong>注意</strong>：建议启用 HTTPS，可通过宝塔的免费 Let’s Encrypt SSL 配置。</p><h2 id="🔌-第六步：推荐插件及配置建议"><a href="#🔌-第六步：推荐插件及配置建议" class="headerlink" title="🔌 第六步：推荐插件及配置建议"></a>🔌 第六步：推荐插件及配置建议</h2><p>以下插件适合中文社区，增强功能并提升用户体验：</p><table><thead><tr><th>插件名称</th><th>作用说明</th></tr></thead><tbody><tr><td><code>flarum-tags</code></td><td>话题分类，类似论坛分区</td></tr><tr><td><code>flarum-likes</code></td><td>帖子点赞功能</td></tr><tr><td><code>flarum-mentions</code></td><td>支持 @ 用户提及</td></tr><tr><td><code>fof/upload</code></td><td>文件&#x2F;图片上传，支持水印、防盗链</td></tr><tr><td><code>fof/gamification</code></td><td>积分排行和点赞榜单</td></tr><tr><td><code>fof/sitemap</code></td><td>自动生成站点 sitemap，提升 SEO</td></tr><tr><td><code>fof/analytics</code></td><td>接入 Google Analytics</td></tr><tr><td><code>fof/pages</code></td><td>自定义页面，如“关于我们”</td></tr><tr><td><code>fof/links</code></td><td>导航栏添加外链，适合链接 Blog 等</td></tr><tr><td><code>fof/emoji</code> + <code>emoji-picker</code></td><td>表情支持与可视化选择器</td></tr><tr><td><code>flarum/online-users</code></td><td>实时显示在线用户</td></tr></tbody></table><p><strong>安装插件</strong>：</p><div class="code-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">composer require &lt;插件名称&gt;:<span class="string">&quot;*&quot;</span></span><br></pre></td></tr></table></figure></div><p>例如：</p><div class="code-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">composer require flarum-tags:<span class="string">&quot;*&quot;</span></span><br></pre></td></tr></table></figure></div><h2 id="⚠️-常见问题与解决方案"><a href="#⚠️-常见问题与解决方案" class="headerlink" title="⚠️ 常见问题与解决方案"></a>⚠️ 常见问题与解决方案</h2><h3 id="1-Composer-报错-proc-open-is-disabled"><a href="#1-Composer-报错-proc-open-is-disabled" class="headerlink" title="1. Composer 报错 proc_open is disabled"></a>1. Composer 报错 <code>proc_open is disabled</code></h3><p><strong>原因</strong>：PHP 禁用了 <code>proc_open</code>，导致 Composer 无法调用 <code>unzip</code> 或 <code>7z</code>。</p><p><strong>解决</strong>：</p><ul><li>编辑 <code>/www/server/php/82/etc/php.ini</code>，找到 <code>disable_functions</code>，移除 <code>proc_open</code>。</li><li>安装 <code>unzip</code>：<div class="code-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Ubuntu/Debian</span></span><br><span class="line"><span class="built_in">sudo</span> apt-get install unzip</span><br><span class="line"><span class="comment"># CentOS/RHEL</span></span><br><span class="line"><span class="built_in">sudo</span> yum install unzip</span><br></pre></td></tr></table></figure></div></li><li>重启 PHP-FPM：<div class="code-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> systemctl restart php-fpm</span><br></pre></td></tr></table></figure></div></li></ul><h3 id="2-Composer-报错-putenv"><a href="#2-Composer-报错-putenv" class="headerlink" title="2. Composer 报错 putenv()"></a>2. Composer 报错 <code>putenv()</code></h3><p><strong>原因</strong>：PHP 禁用了 <code>putenv</code> 函数。</p><p><strong>解决</strong>：</p><ul><li>编辑 <code>/www/server/php/82/etc/php.ini</code>，移除 <code>disable_functions</code> 中的 <code>putenv</code>。</li><li>重启 PHP-FPM：<div class="code-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> systemctl restart php-fpm</span><br></pre></td></tr></table></figure></div></li></ul><h3 id="3-缺少-fileinfo-扩展"><a href="#3-缺少-fileinfo-扩展" class="headerlink" title="3. 缺少 fileinfo 扩展"></a>3. 缺少 <code>fileinfo</code> 扩展</h3><p><strong>原因</strong>：Flarum 依赖 <code>fileinfo</code> 扩展，但未安装或启用。</p><p><strong>解决</strong>：</p><ul><li>参考“第二步：预配置 PHP 环境”中的扩展安装步骤。</li></ul><h3 id="4-文件权限问题（如-public-assets-或-storage-不可写）"><a href="#4-文件权限问题（如-public-assets-或-storage-不可写）" class="headerlink" title="4. 文件权限问题（如 public/assets 或 storage 不可写）"></a>4. 文件权限问题（如 <code>public/assets</code> 或 <code>storage</code> 不可写）</h3><p><strong>原因</strong>：Web 服务器用户对 <code>public/assets</code> 或 <code>storage</code> 目录没有写权限。</p><p><strong>解决</strong>：</p><ul><li>确保目录权限正确：<div class="code-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">chmod</span> -R 775 /www/wwwroot/your-domain/storage</span><br><span class="line"><span class="built_in">chown</span> -R www:www /www/wwwroot/your-domain/storage</span><br><span class="line"><span class="built_in">chmod</span> -R 775 /www/wwwroot/your-domain/public/assets</span><br><span class="line"><span class="built_in">chown</span> -R www:www /www/wwwroot/your-domain/public/assets</span><br></pre></td></tr></table></figure></div></li><li>替换 <code>www</code> 为实际的 Web 服务器用户（可通过 <code>ps aux | grep nginx</code> 或 <code>ps aux | grep php-fpm</code> 确认）。</li></ul><h3 id="5-Composer-下载缓慢"><a href="#5-Composer-下载缓慢" class="headerlink" title="5. Composer 下载缓慢"></a>5. Composer 下载缓慢</h3><p><strong>解决</strong>：配置国内镜像源：</p><div class="code-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">composer config -g repo.packagist composer https://mirrors.aliyun.com/composer/</span><br></pre></td></tr></table></figure></div><h2 id="🔐-性能优化建议"><a href="#🔐-性能优化建议" class="headerlink" title="🔐 性能优化建议"></a>🔐 性能优化建议</h2><ul><li><strong>启用 Redis 缓存</strong>：安装 Redis 和 PHP Redis 扩展，配置 Flarum 使用 Redis：<div class="code-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">composer require flarum/cache</span><br></pre></td></tr></table></figure></div></li><li><strong>使用 CDN</strong>：配合 Cloudflare 或国内 CDN（如阿里云 CDN）加速访问，启用 HTTPS。</li><li><strong>数据库优化</strong>：在宝塔设置计划任务，定期优化 MySQL 数据库：<div class="code-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysqlcheck -o --all-databases</span><br></pre></td></tr></table></figure></div></li><li><strong>统计分析</strong>：安装 <code>flarum/statistics</code> 插件，监控社区增长。</li></ul><h2 id="✅-小结"><a href="#✅-小结" class="headerlink" title="✅ 小结"></a>✅ 小结</h2><p>Flarum 是一款轻量、现代的论坛软件，适合构建如《模拟人生 4》模组分享、汉化交流等中文社区。凭借简洁的界面和丰富的插件生态，只要环境配置得当，后续维护非常轻松。</p><p>下一篇文章将介绍如何将 Cloudflare R2 上的模组和图片资源迁移至本地 Cloudreve 图床，实现私有化存储和分发优化。</p></div><div class="post-copyright-info w-full my-8 px-2 sm:px-6 md:px-8"><div class="article-copyright-info-container"><ul><li><strong>Title:</strong> Flarum 在国内服务器（宝塔环境）上的完整搭建指南</li><li><strong>Author:</strong> Jackson</li><li><strong>Created at :</strong> 2025-07-12 04:05:34</li><li><strong>Updated at :</strong> 2025-07-12 18:03:00</li><li><strong>Link:</strong> https://839738.xyz/posts/20250712.html</li><li><strong>License: </strong>This work is licensed under <a class="license" target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0">CC BY-NC-SA 4.0</a>.</li></ul></div></div><ul class="post-tags-box text-lg mt-1.5 flex-wrap justify-center flex md:hidden"><li class="tag-item mx-0.5"><a href="/tags/Linux/">#Linux</a>&nbsp;</li></ul><div class="article-nav my-8 flex justify-between items-center px-2 sm:px-6 md:px-8"><div class="article-prev border-border-color shadow-redefine-flat shadow-shadow-color-2 rounded-medium px-4 py-2 hover:shadow-redefine-flat-hover hover:shadow-shadow-color-2"><a class="prev" rel="prev" href="/posts/202507121.html"><span class="left arrow-icon flex justify-center items-center"><i class="fa-solid fa-chevron-left"></i> </span><span class="title flex justify-center items-center"><span class="post-nav-title-item">从 Cloudflare R2 迁移文件到 Cloudreve 本地存储</span> <span class="post-nav-item">Prev posts</span></span></a></div><div class="article-next border-border-color shadow-redefine-flat shadow-shadow-color-2 rounded-medium px-4 py-2 hover:shadow-redefine-flat-hover hover:shadow-shadow-color-2"><a class="next" rel="next" href="/posts/20250703.html"><span class="title flex justify-center items-center"><span class="post-nav-title-item">基于服务器的网站搭建心得</span> <span class="post-nav-item">Next posts</span> </span><span class="right arrow-icon flex justify-center items-center"><i class="fa-solid fa-chevron-right"></i></span></a></div></div></div><div class="toc-content-container"><div class="post-toc-wrap"><div class="post-toc"><div class="toc-title">On this page</div><div class="page-title">Flarum 在国内服务器（宝塔环境）上的完整搭建指南</div><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#%F0%9F%A7%B1-%E7%8E%AF%E5%A2%83%E8%AF%B4%E6%98%8E"><span class="nav-text">🧱 环境说明</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%F0%9F%93%A6-%E7%AC%AC%E4%B8%80%E6%AD%A5%EF%BC%9A%E9%80%9A%E8%BF%87%E5%AE%9D%E5%A1%94%E6%96%B0%E5%BB%BA%E7%AB%99%E7%82%B9"><span class="nav-text">📦 第一步：通过宝塔新建站点</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%F0%9F%9B%A0%EF%B8%8F-%E7%AC%AC%E4%BA%8C%E6%AD%A5%EF%BC%9A%E9%A2%84%E9%85%8D%E7%BD%AE-PHP-%E7%8E%AF%E5%A2%83"><span class="nav-text">🛠️ 第二步：预配置 PHP 环境</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%A7%A3%E7%A6%81-PHP-%E5%87%BD%E6%95%B0"><span class="nav-text">解禁 PHP 函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AE%89%E8%A3%85-PHP-%E6%89%A9%E5%B1%95"><span class="nav-text">安装 PHP 扩展</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%F0%9F%A7%B0-%E7%AC%AC%E4%B8%89%E6%AD%A5%EF%BC%9A%E5%AE%89%E8%A3%85-Composer-%E4%B8%8E-Flarum"><span class="nav-text">🧰 第三步：安装 Composer 与 Flarum</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AE%89%E8%A3%85-Composer%EF%BC%88%E5%A6%82%E6%9C%AA%E5%AE%89%E8%A3%85%EF%BC%89"><span class="nav-text">安装 Composer（如未安装）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AE%89%E8%A3%85-Flarum-%E6%A0%B8%E5%BF%83"><span class="nav-text">安装 Flarum 核心</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%F0%9F%94%A7-%E7%AC%AC%E5%9B%9B%E6%AD%A5%EF%BC%9A%E9%85%8D%E7%BD%AE-Nginx-%E4%B8%8E-PHP"><span class="nav-text">🔧 第四步：配置 Nginx 与 PHP</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Nginx-%E9%85%8D%E7%BD%AE"><span class="nav-text">Nginx 配置</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#PHP-%E9%85%8D%E7%BD%AE%E8%B0%83%E6%95%B4"><span class="nav-text">PHP 配置调整</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%F0%9F%8C%90-%E7%AC%AC%E4%BA%94%E6%AD%A5%EF%BC%9A%E8%AE%BF%E9%97%AE%E5%AE%89%E8%A3%85%E9%A1%B5%E9%9D%A2"><span class="nav-text">🌐 第五步：访问安装页面</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%F0%9F%94%8C-%E7%AC%AC%E5%85%AD%E6%AD%A5%EF%BC%9A%E6%8E%A8%E8%8D%90%E6%8F%92%E4%BB%B6%E5%8F%8A%E9%85%8D%E7%BD%AE%E5%BB%BA%E8%AE%AE"><span class="nav-text">🔌 第六步：推荐插件及配置建议</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E2%9A%A0%EF%B8%8F-%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98%E4%B8%8E%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88"><span class="nav-text">⚠️ 常见问题与解决方案</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-Composer-%E6%8A%A5%E9%94%99-proc-open-is-disabled"><span class="nav-text">1. Composer 报错 proc_open is disabled</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-Composer-%E6%8A%A5%E9%94%99-putenv"><span class="nav-text">2. Composer 报错 putenv()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-%E7%BC%BA%E5%B0%91-fileinfo-%E6%89%A9%E5%B1%95"><span class="nav-text">3. 缺少 fileinfo 扩展</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-%E6%96%87%E4%BB%B6%E6%9D%83%E9%99%90%E9%97%AE%E9%A2%98%EF%BC%88%E5%A6%82-public-assets-%E6%88%96-storage-%E4%B8%8D%E5%8F%AF%E5%86%99%EF%BC%89"><span class="nav-text">4. 文件权限问题（如 public&#x2F;assets 或 storage 不可写）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-Composer-%E4%B8%8B%E8%BD%BD%E7%BC%93%E6%85%A2"><span class="nav-text">5. Composer 下载缓慢</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%F0%9F%94%90-%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E5%BB%BA%E8%AE%AE"><span class="nav-text">🔐 性能优化建议</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E2%9C%85-%E5%B0%8F%E7%BB%93"><span class="nav-text">✅ 小结</span></a></li></ol></div></div></div></div></div></div><div class="main-content-footer"><footer class="footer mt-5 py-5 h-auto text-base text-third-text-color relative border-t-2 border-t-border-color"><div class="info-container py-3 text-center"><div class="text-center">&copy; <span>2025</span> - 2025&nbsp;&nbsp;<i class="fa-solid fa-heart fa-beat" style="--fa-animation-duration:0.5s;color:#f54545"></i>&nbsp;&nbsp;<a href="/">Jackson</a><p class="post-count space-x-0.5"><span>21 posts in total</span></p></div><script data-swup-reload-script src="https://cn.vercount.one/js"></script><div class="relative text-center lg:absolute lg:right-[20px] lg:top-1/2 lg:-translate-y-1/2 lg:text-right"><span id="busuanzi_container_site_uv" class="lg:!block"><span class="text-sm">VISITOR COUNT</span> <span id="busuanzi_value_site_uv"></span> </span><span id="busuanzi_container_site_pv" class="lg:!block"><span class="text-sm">TOTAL PAGE VIEWS</span> <span id="busuanzi_value_site_pv"></span></span></div><div class="relative text-center lg:absolute lg:left-[20px] lg:top-1/2 lg:-translate-y-1/2 lg:text-left"><span class="lg:block text-sm">POWERED BY KK</span> <span class="text-sm lg:block"><span class="text-base">Jackson独立搭建</span></span></div><div>Blog up for <span class="odometer" id="runtime_days"></span> days <span class="odometer" id="runtime_hours"></span> hrs <span class="odometer" id="runtime_minutes"></span> Min <span class="odometer" id="runtime_seconds"></span> Sec</div><script data-swup-reload-script>try{function odometer_init(){document.querySelectorAll(".odometer").forEach(e=>{new Odometer({el:e,format:"( ddd).dd",duration:200})})}odometer_init()}catch(e){}</script></div></footer><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/npm/meting@2/dist/Meting.min.js"></script><style>.aplayer{background:0 0!important;border:none!important}.aplayer .aplayer-info{border:none!important;background:rgba(255,255,255,.2)!important;backdrop-filter:blur(12px);padding:10px!important;border-radius:10px;box-shadow:0 4px 12px rgba(255,255,255,.1)}.aplayer .aplayer-list{background:rgba(255,255,255,.2)!important;backdrop-filter:blur(12px);border-radius:10px;box-shadow:0 4px 12px rgba(255,255,255,.1)}.aplayer .aplayer-list ol li{border:none!important;color:#000!important}.aplayer .aplayer-list ol li:hover{background:rgba(255,255,255,.3)!important}.aplayer .aplayer-list ol li.aplayer-list-light{background:rgba(255,255,255,.4)!important}.aplayer.aplayer-fixed{background:0 0!important}.aplayer.aplayer-fixed .aplayer-body{background:0 0!important}.aplayer.aplayer-fixed .aplayer-miniswitcher{background:rgba(255,255,255,.2)!important;backdrop-filter:blur(12px);box-shadow:-2px 0 6px rgba(255,255,255,.1)}.aplayer .aplayer-lrc{text-shadow:-1px -1px 0 #fff,1px -1px 0 #fff,-1px 1px 0 #fff,1px 1px 0 #fff;background:0 0!important}.aplayer .aplayer-lrc:after,.aplayer .aplayer-lrc:before{background:0 0!important}.aplayer .aplayer-info .aplayer-music{color:#000!important}.aplayer .aplayer-info .aplayer-controller .aplayer-time{color:#000!important}.aplayer .aplayer-info .aplayer-controller .aplayer-bar-wrap .aplayer-bar{background:rgba(255,255,255,.4)!important}.aplayer .aplayer-info .aplayer-controller .aplayer-bar-wrap .aplayer-bar .aplayer-loaded{background:rgba(255,255,255,.8)!important}.aplayer .aplayer-info .aplayer-controller .aplayer-bar-wrap .aplayer-bar .aplayer-played{background:#fff!important}.aplayer .aplayer-info .aplayer-controller .aplayer-bar-wrap{border-color:#e5e7eb!important}.aplayer .aplayer-info .aplayer-controller .aplayer-play-icon{border:2px solid #fff!important;border-radius:50%}.aplayer .aplayer-info .aplayer-controller .aplayer-time .aplayer-icon{border-color:#fff!important}.aplayer .aplayer-info .aplayer-controller .aplayer-bar-wrap .aplayer-bar{border-bottom:1px solid #e5e7eb!important;background:rgba(255,255,255,.2)!important}.aplayer .aplayer-volume-bar-wrap .aplayer-volume-bar{border-bottom:1px solid #e5e7eb!important;background:rgba(255,255,255,.2)!important}.aplayer .aplayer-volume-bar-wrap .aplayer-volume-bar .aplayer-volume{background:#fff!important}.aplayer .aplayer-info .aplayer-controller .aplayer-time .aplayer-icon:hover{border-color:#fff!important}</style><meting-js server="netease" type="playlist" id="7641592364" fixed="true" autoplay theme="#2980b9" loop order="random" preload="auto" volume="0.7"></meting-js></div></div><div class="post-tools"><div class="post-tools-container"><ul class="article-tools-list"><li class="right-bottom-tools page-aside-toggle"><i class="fa-regular fa-outdent"></i></li></ul></div></div><div class="right-side-tools-container"><div class="side-tools-container"><ul class="hidden-tools-list"><li class="right-bottom-tools tool-font-adjust-plus flex justify-center items-center"><i class="fa-regular fa-magnifying-glass-plus"></i></li><li class="right-bottom-tools tool-font-adjust-minus flex justify-center items-center"><i class="fa-regular fa-magnifying-glass-minus"></i></li><li class="right-bottom-tools tool-dark-light-toggle flex justify-center items-center"><i class="fa-regular fa-moon"></i></li><li class="right-bottom-tools tool-scroll-to-bottom flex justify-center items-center"><i class="fa-regular fa-arrow-down"></i></li></ul><ul class="visible-tools-list"><li class="right-bottom-tools toggle-tools-list flex justify-center items-center"><i class="fa-regular fa-cog fa-spin"></i></li><li class="right-bottom-tools tool-scroll-to-top flex justify-center items-center"><i class="arrow-up fas fa-arrow-up"></i> <span class="percent"></span></li></ul></div></div><div class="image-viewer-container"><img src=""></div><div class="search-pop-overlay"><div class="popup search-popup"><div class="search-header"><span class="search-input-field-pre"><i class="fa-solid fa-keyboard"></i></span><div class="search-input-container"><input autocomplete="off" autocorrect="off" autocapitalize="off" placeholder="Search..." spellcheck="false" type="search" class="search-input"></div><span class="popup-btn-close"><i class="fa-solid fa-times"></i></span></div><div id="search-result"><div id="no-result"><i class="fa-solid fa-spinner fa-spin-pulse fa-5x fa-fw"></i></div></div></div></div></main><script src="/js/build/libs/Swup.min.js"></script><script src="/js/build/libs/SwupSlideTheme.min.js"></script><script src="/js/build/libs/SwupScriptsPlugin.min.js"></script><script src="/js/build/libs/SwupProgressPlugin.min.js"></script><script src="/js/build/libs/SwupScrollPlugin.min.js"></script><script src="/js/build/libs/SwupPreloadPlugin.min.js"></script><script>const swup=new Swup({plugins:[new SwupScriptsPlugin({optin:!0}),new SwupProgressPlugin,new SwupScrollPlugin({offset:80}),new SwupSlideTheme({mainElement:".main-content-body"}),new SwupPreloadPlugin],containers:["#swup"]})</script><script src="/js/build/tools/imageViewer.js" type="module"></script><script src="/js/build/utils.js" type="module"></script><script src="/js/build/main.js" type="module"></script><script src="/js/build/layouts/navbarShrink.js" type="module"></script><script src="/js/build/tools/scrollTopBottom.js" type="module"></script><script src="/js/build/tools/lightDarkSwitch.js" type="module"></script><script src="/js/build/layouts/categoryList.js" type="module"></script><script src="/js/build/tools/localSearch.js" type="module"></script><script src="/js/build/tools/codeBlock.js" type="module"></script><script src="/js/build/layouts/lazyload.js" type="module"></script><script src="/js/build/tools/runtime.js"></script><script src="/js/build/libs/odometer.min.js"></script><link rel="stylesheet" href="/assets/odometer-theme-minimal.css"><script src="/js/build/libs/Typed.min.js"></script><script src="/js/build/plugins/typed.js" type="module"></script><script src="/js/build/libs/minimasonry.min.js"></script><script src="/js/build/plugins/masonry.js" type="module"></script><script src="/js/build/libs/anime.min.js"></script><script src="/js/build/tools/tocToggle.js" type="module" data-swup-reload-script=""></script><script src="/js/build/layouts/toc.js" type="module" data-swup-reload-script=""></script><script src="/js/build/plugins/tabs.js" type="module" data-swup-reload-script=""></script><script src="/js/build/libs/moment-with-locales.min.js" data-swup-reload-script=""></script><script src="/js/build/layouts/essays.js" type="module" data-swup-reload-script=""></script></body></html>